/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/soundbank-reverb/build-impulse.js":
/*!********************************************************!*\
  !*** ./node_modules/soundbank-reverb/build-impulse.js ***!
  \********************************************************/
/***/ ((module) => {

eval("module.exports = buildImpulse\n\nvar chunkSize = 2048\n\nvar queue = []\nvar targets = {}\n\nvar lastImpulseId = 0\nfunction buildImpulse(length, decay, reverse, cb){\n  \n  lastImpulseId += 1\n  var target = targets[lastImpulseId] = {\n    id: lastImpulseId,\n    cb: cb,\n    length: length,\n    decay: decay,\n    reverse: reverse,\n    impulseL: new Float32Array(length),\n    impulseR: new Float32Array(length)\n  }\n\n  queue.push([ target.id, 0, Math.min(chunkSize, length) ])\n\n  setTimeout(next, 1)\n  return lastImpulseId\n}\n\nbuildImpulse.cancel = function(id){\n  if (targets[id]){\n    ;delete targets[id]\n    return true\n  } else {\n    return false\n  }\n}\n\nfunction next(){\n  var item = queue.shift()\n  if (item){\n    var target = targets[item[0]]\n    if (target){\n      var length = target.length\n      var decay = target.decay\n      var reverse = target.reverse\n      var from = item[1]\n      var to = item[2]\n\n      var impulseL = target.impulseL\n      var impulseR = target.impulseR\n\n      for (var i=from;i<to;i++) {\n        var n = reverse ? length - i : i;\n        impulseL[i] = (Math.random() * 2 - 1) * Math.pow(1 - n / length, decay);\n        impulseR[i] = (Math.random() * 2 - 1) * Math.pow(1 - n / length, decay);\n      }\n\n      if (to >= length-1){\n        ;delete targets[item[0]]\n        target.cb([target.impulseL, target.impulseR])\n      } else {\n        queue.push([ target.id, to, Math.min(to + chunkSize, length) ])\n      }\n    }\n  }\n  \n  if (queue.length){\n    setTimeout(next, 5)\n  }\n}\n\n//# sourceURL=webpack:///./node_modules/soundbank-reverb/build-impulse.js?");

/***/ }),

/***/ "./node_modules/soundbank-reverb/index.js":
/*!************************************************!*\
  !*** ./node_modules/soundbank-reverb/index.js ***!
  \************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("// based on https://github.com/web-audio-components/simple-reverb by Nick Thompson\n\nvar buildImpulse = __webpack_require__(/*! ./build-impulse */ \"./node_modules/soundbank-reverb/build-impulse.js\")\n\nmodule.exports = SimpleReverb\n\nfunction SimpleReverb(context){\n  var node = context.createGain()\n  var dry = node._dry = context.createGain()\n  var wet = node._wet = context.createGain()\n\n  var output = node.output = context.createGain()\n\n  var convolver = node._convolver = context.createConvolver();\n  var filter = node._filter = context.createBiquadFilter()\n  \n  node.connect(dry)\n  node.connect(wet)\n\n  convolver.connect(filter)\n  dry.connect(output)\n  wet.connect(convolver)\n  filter.connect(output)\n\n\n  Object.defineProperties(node, properties)\n\n  node._time = 3\n  node._decay = 2\n  node._reverse = false\n\n  node.cutoff.value = 20000\n  node.filterType = 'lowpass'\n\n  node._building = false\n  node._buildImpulse()\n\n\n  return node\n}\n\nvar properties = {\n\n  connect: {\n    value: function(){\n      this.output.connect.apply(this.output, arguments)\n    }\n  },\n\n  disconnect: {\n    value: function(){\n      this.output.disconnect.apply(this.output, arguments)\n    }\n  },\n\n  wet: {\n    get: function(){\n      return this._wet.gain\n    }\n  },\n\n  dry: {\n    get: function(){\n      return this._dry.gain\n    }\n  },\n\n  cutoff: {\n    get: function(){\n      return this._filter.frequency\n    }\n  },\n\n  filterType: {\n    get: function(){\n      return this._filter.type\n    },\n    set: function(value){\n      this._filter.type = value\n    }\n  },\n\n  _buildImpulse: {\n    value: function () {\n      var self = this\n      var rate = self.context.sampleRate\n      var length = Math.max(rate * self.time, 1)\n\n      if (self._building){\n        buildImpulse.cancel(self._building)\n      }\n\n      self._building = buildImpulse(length, self.decay, self.reverse, function(channels){\n        var impulse = self.context.createBuffer(2, length, rate)\n        impulse.getChannelData(0).set(channels[0])\n        impulse.getChannelData(1).set(channels[1])\n        self._convolver.buffer = impulse\n        self._building = false\n      })\n    }\n  },\n\n  /**\n   * Public parameters.\n   */\n\n  time: {\n    enumerable: true,\n    get: function () { return this._time; },\n    set: function (value) {\n      this._time = value;\n      this._buildImpulse();\n    }\n  },\n\n  decay: {\n    enumerable: true,\n    get: function () { return this._decay; },\n    set: function (value) {\n      this._decay = value;\n      this._buildImpulse();\n    }\n  },\n\n  reverse: {\n    enumerable: true,\n    get: function () { return this._reverse; },\n    set: function (value) {\n      this._reverse = value;\n      this._buildImpulse();\n    }\n  }\n\n}\n\n\n\n//# sourceURL=webpack:///./node_modules/soundbank-reverb/index.js?");

/***/ }),

/***/ "./src/WiggleContext.ts":
/*!******************************!*\
  !*** ./src/WiggleContext.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WiggleContext: () => (/* binding */ WiggleContext)\n/* harmony export */ });\nvar __assign = (undefined && undefined.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar WiggleContext = /** @class */ (function () {\n    function WiggleContext(containerSelector) {\n        this._idCounter = 0;\n        this._modules = [];\n        this._audioContext = null;\n        this._sources = [];\n        this._started = false;\n        this._suspended = false;\n        this._containerSelector = containerSelector;\n    }\n    WiggleContext.prototype.define = function (module) {\n        var id = ++this._idCounter;\n        this._modules.push(__assign({ id: id, mapping: {}, connect: function () { } }, module));\n        return { id: id };\n    };\n    Object.defineProperty(WiggleContext.prototype, \"isBuilt\", {\n        get: function () {\n            return !!this._audioContext;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(WiggleContext.prototype, \"isPlaying\", {\n        get: function () {\n            return this._started && !this._suspended;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(WiggleContext.prototype, \"timestamp\", {\n        get: function () {\n            if (!this._audioContext) {\n                return null;\n            }\n            var ts = this._audioContext.currentTime;\n            var minutes = \"\".concat(Math.floor(ts / 60));\n            var seconds = \"\".concat(Math.floor(ts) % 60);\n            var paddedSeconds = seconds.length === 1 ? \"0\".concat(seconds) : seconds;\n            var fractional = \"\".concat(ts).replace(/^\\d+\\./, '').slice(0, 4);\n            var paddedFractional = \"\".concat(fractional).concat(new Array(4 - fractional.length).fill('0').join(''));\n            return \"\".concat(minutes, \":\").concat(paddedSeconds, \":\").concat(paddedFractional);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    WiggleContext.prototype.build = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var AudioContext, nodes, _i, _a, module_1, _b, node, inputNode, isOscillator, _c, _d, module_2, destinationNode, _e, _f, inputName, mapping, source, sourceNode;\n            var _g;\n            return __generator(this, function (_h) {\n                switch (_h.label) {\n                    case 0:\n                        if (this._audioContext) {\n                            console.log('Already built');\n                            return [2 /*return*/];\n                        }\n                        AudioContext = window.AudioContext || window['webkitAudioContext'];\n                        this._audioContext = new AudioContext();\n                        return [4 /*yield*/, this._audioContext.audioWorklet.addModule(\"./build/processors.js\")];\n                    case 1:\n                        _h.sent();\n                        nodes = {};\n                        for (_i = 0, _a = this._modules; _i < _a.length; _i++) {\n                            module_1 = _a[_i];\n                            _b = module_1.create(this._audioContext), node = _b.node, inputNode = _b.inputNode, isOscillator = _b.isSource;\n                            nodes[module_1.id] = { output: node, input: inputNode !== null && inputNode !== void 0 ? inputNode : node };\n                            if (isOscillator) {\n                                this._sources.push(node);\n                            }\n                        }\n                        for (_c = 0, _d = this._modules; _c < _d.length; _c++) {\n                            module_2 = _d[_c];\n                            destinationNode = nodes[module_2.id];\n                            if (!destinationNode) {\n                                throw \"Unknown mapping destination node \".concat(module_2.id);\n                            }\n                            for (_e = 0, _f = Object.keys(module_2.mapping); _e < _f.length; _e++) {\n                                inputName = _f[_e];\n                                mapping = module_2.mapping[inputName];\n                                source = void 0;\n                                if (typeof mapping === 'number') {\n                                    source = mapping;\n                                }\n                                else {\n                                    sourceNode = nodes[mapping.id];\n                                    if (!sourceNode) {\n                                        throw \"Cannot find mapping source node \".concat(mapping.id);\n                                    }\n                                    source = sourceNode.output;\n                                }\n                                if (source === undefined) {\n                                    throw \"Cannot complete mapping\";\n                                }\n                                (_g = module_2.connect) === null || _g === void 0 ? void 0 : _g.call(module_2, inputName, source, destinationNode.input);\n                            }\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    WiggleContext.prototype.start = function () {\n        if (!this._audioContext) {\n            console.log('Not built');\n            return;\n        }\n        if (this._suspended) {\n            this._audioContext.resume();\n            this._suspended = false;\n        }\n        else {\n            for (var _i = 0, _a = this._sources; _i < _a.length; _i++) {\n                var source = _a[_i];\n                source.start();\n            }\n            this._started = true;\n        }\n    };\n    WiggleContext.prototype.stop = function () {\n        if (!this._started) {\n            console.log('Not started');\n            return;\n        }\n        this._suspended = true;\n        this._audioContext.suspend();\n    };\n    WiggleContext.prototype.dispose = function () {\n        for (var _i = 0, _a = this._sources; _i < _a.length; _i++) {\n            var source = _a[_i];\n            source.stop();\n        }\n        this._audioContext.close();\n        this._audioContext = null;\n        this._modules = [];\n        this._sources = [];\n    };\n    WiggleContext.prototype.renderWidget = function (element) {\n        document.querySelector(this._containerSelector).appendChild(element);\n    };\n    return WiggleContext;\n}());\n\n\n\n//# sourceURL=webpack:///./src/WiggleContext.ts?");

/***/ }),

/***/ "./src/instrument/fmKick.ts":
/*!**********************************!*\
  !*** ./src/instrument/fmKick.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fmKick: () => (/* binding */ fmKick)\n/* harmony export */ });\n/* harmony import */ var _module_adsr__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../module/adsr */ \"./src/module/adsr.ts\");\n/* harmony import */ var _module_attenuverter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../module/attenuverter */ \"./src/module/attenuverter.ts\");\n/* harmony import */ var _module_noise__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../module/noise */ \"./src/module/noise.ts\");\n/* harmony import */ var _module_sum__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../module/sum */ \"./src/module/sum.ts\");\n/* harmony import */ var _module_vca__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../module/vca */ \"./src/module/vca.ts\");\n/* harmony import */ var _module_vcf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../module/vcf */ \"./src/module/vcf.ts\");\n/* harmony import */ var _module_vco__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../module/vco */ \"./src/module/vco.ts\");\n/* harmony import */ var _scale_chromatic__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../scale/chromatic */ \"./src/scale/chromatic.ts\");\n\n\n\n\n\n\n\n\nfunction fmKick(context, _a) {\n    var gate = _a.gate, _b = _a.decay, decay = _b === void 0 ? 0.2 : _b, _c = _a.pitchDecay, pitchDecay = _c === void 0 ? 0.1 : _c, _d = _a.frequency, frequency = _d === void 0 ? _scale_chromatic__WEBPACK_IMPORTED_MODULE_7__.PITCH.a0 : _d, _e = _a.fmPitchFactor, fmPitchFactor = _e === void 0 ? 1.1 : _e, cutoff = _a.cutoff;\n    var body = (0,_module_vcf__WEBPACK_IMPORTED_MODULE_5__.vcf)(context, {\n        type: 'lowpass',\n        cutoff: cutoff !== null && cutoff !== void 0 ? cutoff : (frequency * 8),\n        resonance: 5,\n        source: (0,_module_vca__WEBPACK_IMPORTED_MODULE_4__.vca)(context, {\n            input: (0,_module_vco__WEBPACK_IMPORTED_MODULE_6__.vco)(context, {\n                frequency: (0,_module_attenuverter__WEBPACK_IMPORTED_MODULE_1__.attenuverter)(context, {\n                    source: (0,_module_adsr__WEBPACK_IMPORTED_MODULE_0__.adsr)(context, {\n                        decay: pitchDecay,\n                        gate: gate,\n                        retrigger: true,\n                    }),\n                    offset: frequency,\n                    gain: fmPitchFactor,\n                }),\n                shape: 'sine',\n            }),\n            gain: (0,_module_adsr__WEBPACK_IMPORTED_MODULE_0__.adsr)(context, {\n                decay: decay,\n                gate: gate,\n                retrigger: true,\n            }),\n        })\n    });\n    var transient = (0,_module_attenuverter__WEBPACK_IMPORTED_MODULE_1__.attenuverter)(context, {\n        source: (0,_module_vcf__WEBPACK_IMPORTED_MODULE_5__.vcf)(context, {\n            source: (0,_module_vca__WEBPACK_IMPORTED_MODULE_4__.vca)(context, {\n                input: (0,_module_noise__WEBPACK_IMPORTED_MODULE_2__.noise)(context),\n                gain: (0,_module_adsr__WEBPACK_IMPORTED_MODULE_0__.adsr)(context, {\n                    decay: 0.01,\n                    gate: gate,\n                    retrigger: true,\n                }),\n            }),\n            cutoff: _scale_chromatic__WEBPACK_IMPORTED_MODULE_7__.PITCH.a5,\n            type: 'bandpass',\n            resonance: 0.01,\n        }),\n        gain: 0.05,\n    });\n    return (0,_module_sum__WEBPACK_IMPORTED_MODULE_3__.sum)(context, { inputs: [body, transient] });\n}\n\n\n//# sourceURL=webpack:///./src/instrument/fmKick.ts?");

/***/ }),

/***/ "./src/instrument/hat.ts":
/*!*******************************!*\
  !*** ./src/instrument/hat.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   hat: () => (/* binding */ hat)\n/* harmony export */ });\n/* harmony import */ var _module_adsr__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../module/adsr */ \"./src/module/adsr.ts\");\n/* harmony import */ var _module_noise__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../module/noise */ \"./src/module/noise.ts\");\n/* harmony import */ var _module_vca__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../module/vca */ \"./src/module/vca.ts\");\n/* harmony import */ var _module_vcf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../module/vcf */ \"./src/module/vcf.ts\");\n/* harmony import */ var _scale_chromatic__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../scale/chromatic */ \"./src/scale/chromatic.ts\");\n\n\n\n\n\nfunction hat(context, _a) {\n    var gate = _a.gate, _b = _a.decay, decay = _b === void 0 ? 0.05 : _b;\n    return (0,_module_vcf__WEBPACK_IMPORTED_MODULE_3__.vcf)(context, {\n        source: (0,_module_vca__WEBPACK_IMPORTED_MODULE_2__.vca)(context, {\n            input: (0,_module_noise__WEBPACK_IMPORTED_MODULE_1__.noise)(context),\n            gain: (0,_module_adsr__WEBPACK_IMPORTED_MODULE_0__.adsr)(context, { attack: 0.005, decay: decay, gate: gate }),\n        }),\n        cutoff: _scale_chromatic__WEBPACK_IMPORTED_MODULE_4__.PITCH.a1,\n        type: 'notch',\n        resonance: 0.001,\n    });\n}\n\n\n//# sourceURL=webpack:///./src/instrument/hat.ts?");

/***/ }),

/***/ "./src/instrument/index.ts":
/*!*********************************!*\
  !*** ./src/instrument/index.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fmKick: () => (/* reexport safe */ _fmKick__WEBPACK_IMPORTED_MODULE_0__.fmKick),\n/* harmony export */   hat: () => (/* reexport safe */ _hat__WEBPACK_IMPORTED_MODULE_1__.hat),\n/* harmony export */   snare: () => (/* reexport safe */ _snare__WEBPACK_IMPORTED_MODULE_2__.snare)\n/* harmony export */ });\n/* harmony import */ var _fmKick__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./fmKick */ \"./src/instrument/fmKick.ts\");\n/* harmony import */ var _hat__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./hat */ \"./src/instrument/hat.ts\");\n/* harmony import */ var _snare__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./snare */ \"./src/instrument/snare.ts\");\n\n\n\n\n\n//# sourceURL=webpack:///./src/instrument/index.ts?");

/***/ }),

/***/ "./src/instrument/snare.ts":
/*!*********************************!*\
  !*** ./src/instrument/snare.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   snare: () => (/* binding */ snare)\n/* harmony export */ });\n/* harmony import */ var _module_adsr__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../module/adsr */ \"./src/module/adsr.ts\");\n/* harmony import */ var _module_attenuverter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../module/attenuverter */ \"./src/module/attenuverter.ts\");\n/* harmony import */ var _module_distortion__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../module/distortion */ \"./src/module/distortion.ts\");\n/* harmony import */ var _module_noise__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../module/noise */ \"./src/module/noise.ts\");\n/* harmony import */ var _module_sum__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../module/sum */ \"./src/module/sum.ts\");\n/* harmony import */ var _module_vca__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../module/vca */ \"./src/module/vca.ts\");\n/* harmony import */ var _module_vcf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../module/vcf */ \"./src/module/vcf.ts\");\n/* harmony import */ var _module_vco__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../module/vco */ \"./src/module/vco.ts\");\n/* harmony import */ var _scale_chromatic__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../scale/chromatic */ \"./src/scale/chromatic.ts\");\n\n\n\n\n\n\n\n\n\nfunction snare(context, _a) {\n    var gate = _a.gate;\n    var _b = [\n        (0,_module_vco__WEBPACK_IMPORTED_MODULE_7__.vco)(context, { frequency: 203, shape: 'sine' }),\n        (0,_module_vco__WEBPACK_IMPORTED_MODULE_7__.vco)(context, { frequency: 456, shape: 'sine' }),\n        (0,_module_vco__WEBPACK_IMPORTED_MODULE_7__.vco)(context, { frequency: 597, shape: 'sine' }),\n        (0,_module_vco__WEBPACK_IMPORTED_MODULE_7__.vco)(context, { frequency: 920, shape: 'sine' }),\n    ], fundamental = _b[0], partial1 = _b[1], partial2 = _b[2], partial3 = _b[3];\n    return (0,_module_distortion__WEBPACK_IMPORTED_MODULE_2__.distortion)(context, {\n        amount: 200,\n        source: (0,_module_vcf__WEBPACK_IMPORTED_MODULE_6__.vcf)(context, {\n            type: 'lowshelf',\n            cutoff: 1000,\n            resonance: 1,\n            source: (0,_module_sum__WEBPACK_IMPORTED_MODULE_4__.sum)(context, {\n                inputs: [\n                    // Fundamental:\n                    (0,_module_vca__WEBPACK_IMPORTED_MODULE_5__.vca)(context, {\n                        input: fundamental,\n                        gain: (0,_module_adsr__WEBPACK_IMPORTED_MODULE_0__.adsr)(context, {\n                            gate: gate,\n                            attack: 0.001,\n                            decay: 0.15,\n                        }),\n                    }),\n                    // Overtones:\n                    (0,_module_vca__WEBPACK_IMPORTED_MODULE_5__.vca)(context, {\n                        input: (0,_module_sum__WEBPACK_IMPORTED_MODULE_4__.sum)(context, {\n                            inputs: [partial1, partial2, partial3],\n                        }),\n                        gain: (0,_module_attenuverter__WEBPACK_IMPORTED_MODULE_1__.attenuverter)(context, {\n                            source: (0,_module_adsr__WEBPACK_IMPORTED_MODULE_0__.adsr)(context, {\n                                gate: gate,\n                                attack: 0.001,\n                                decay: 0.1,\n                            }),\n                            gain: 0.2,\n                        }),\n                    }),\n                    // Snares:\n                    (0,_module_attenuverter__WEBPACK_IMPORTED_MODULE_1__.attenuverter)(context, {\n                        source: (0,_module_vcf__WEBPACK_IMPORTED_MODULE_6__.vcf)(context, {\n                            source: (0,_module_vca__WEBPACK_IMPORTED_MODULE_5__.vca)(context, {\n                                input: (0,_module_noise__WEBPACK_IMPORTED_MODULE_3__.noise)(context),\n                                gain: (0,_module_adsr__WEBPACK_IMPORTED_MODULE_0__.adsr)(context, {\n                                    attack: 0.01,\n                                    decay: 0.1,\n                                    gate: gate,\n                                }),\n                            }),\n                            cutoff: _scale_chromatic__WEBPACK_IMPORTED_MODULE_8__.PITCH.a5,\n                            type: 'bandpass',\n                            resonance: 0.05,\n                        }),\n                        gain: 0.5,\n                    }),\n                    // Click:\n                    (0,_module_attenuverter__WEBPACK_IMPORTED_MODULE_1__.attenuverter)(context, {\n                        source: (0,_module_vca__WEBPACK_IMPORTED_MODULE_5__.vca)(context, {\n                            input: (0,_module_noise__WEBPACK_IMPORTED_MODULE_3__.noise)(context),\n                            gain: (0,_module_adsr__WEBPACK_IMPORTED_MODULE_0__.adsr)(context, {\n                                attack: 0.01,\n                                decay: 0.05,\n                                gate: gate,\n                            }),\n                        }),\n                        gain: 0.7,\n                    }),\n                ],\n            })\n        })\n    });\n}\n\n\n//# sourceURL=webpack:///./src/instrument/snare.ts?");

/***/ }),

/***/ "./src/module/adsr.ts":
/*!****************************!*\
  !*** ./src/module/adsr.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   adsr: () => (/* binding */ adsr)\n/* harmony export */ });\nvar minTime = 0.0001;\nfunction adsr(context, _a) {\n    var _b = _a.attack, attack = _b === void 0 ? 0 : _b, _c = _a.decay, decay = _c === void 0 ? 0 : _c, _d = _a.sustain, sustain = _d === void 0 ? 0 : _d, _e = _a.release, release = _e === void 0 ? 0 : _e, gate = _a.gate, retrigger = _a.retrigger, linearAttack = _a.linearAttack, linearDecay = _a.linearDecay, linearRelease = _a.linearRelease;\n    return context.define({\n        mapping: { gate: gate },\n        create: function (context) {\n            var comparator = new AudioWorkletNode(context, \"comparator-processor\");\n            var node = new ConstantSourceNode(context);\n            node.offset.value = 0;\n            var oldComparison = 'below';\n            comparator.port.onmessage = function (message) {\n                var newComparison = message.data === 'above'\n                    ? 'above' : 'below';\n                if (newComparison === 'above' &&\n                    oldComparison === 'above' &&\n                    !retrigger) {\n                    return;\n                }\n                oldComparison = newComparison;\n                if (newComparison === 'above') {\n                    node.offset.cancelScheduledValues(context.currentTime);\n                    if (retrigger) {\n                        node.offset.setValueAtTime(0, context.currentTime);\n                    }\n                    scheduleAttackDecay(node.offset, context.currentTime, attack, decay, sustain, linearAttack, linearDecay);\n                }\n                else if (sustain !== 0 && release > minTime) {\n                    scheduleRelease(node.offset, context.currentTime, release, linearRelease);\n                }\n            };\n            return { node: node, inputNode: comparator, isSource: true, };\n        },\n        connect: function (inputName, source, dest) {\n            var worklet = dest;\n            if (inputName === 'gate') {\n                if (typeof source === 'number') {\n                    throw \"Invalid ADSR gate\";\n                }\n                source.connect(worklet);\n            }\n        }\n    });\n}\nfunction scheduleAttackDecay(param, startTime, attackTime, decayTime, sustainLevel, linearAttack, linearDecay) {\n    var attackEnd = startTime + attackTime;\n    var decayEnd = startTime + attackTime + decayTime;\n    var attackLevel = decayTime > minTime ? 1 : sustainLevel;\n    if (attackTime < minTime) {\n        param.setValueAtTime(attackLevel, startTime);\n    }\n    else if (linearAttack) {\n        param.linearRampToValueAtTime(attackLevel, attackEnd);\n    }\n    else {\n        param.exponentialRampToValueAtTime(attackLevel, attackEnd);\n    }\n    if (decayTime < minTime) {\n        param.setValueAtTime(sustainLevel, decayEnd);\n    }\n    else if (linearDecay) {\n        param.linearRampToValueAtTime(sustainLevel, decayEnd);\n    }\n    else {\n        param.exponentialRampToValueAtTime(Math.max(sustainLevel, 0.0001), decayEnd);\n    }\n}\nfunction scheduleRelease(param, startTime, releaseTime, linearRelease) {\n    var releaseEnd = startTime + releaseTime;\n    param.cancelScheduledValues(startTime);\n    if (releaseTime < minTime) {\n        param.setValueAtTime(0, startTime);\n    }\n    else if (linearRelease) {\n        param.linearRampToValueAtTime(0, releaseEnd);\n    }\n    else {\n        param.exponentialRampToValueAtTime(0.0001, releaseEnd);\n    }\n}\n\n\n//# sourceURL=webpack:///./src/module/adsr.ts?");

/***/ }),

/***/ "./src/module/attenuverter.ts":
/*!************************************!*\
  !*** ./src/module/attenuverter.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   attenuverter: () => (/* binding */ attenuverter)\n/* harmony export */ });\nfunction attenuverter(context, _a) {\n    var source = _a.source, gain = _a.gain, offset = _a.offset;\n    return context.define({\n        mapping: { source: source, gain: gain !== null && gain !== void 0 ? gain : 1, offset: offset !== null && offset !== void 0 ? offset : 0 },\n        create: function (context) {\n            var node = new AudioWorkletNode(context, 'attenuverter-processor');\n            return { node: node };\n        },\n        connect: function (inputName, source, dest) {\n            var worklet = dest;\n            if (inputName === 'source') {\n                if (typeof source === 'number') {\n                    throw \"Invalid attenuverter source\";\n                }\n                else {\n                    source.connect(worklet);\n                }\n            }\n            else if (['gain', 'offset'].indexOf(inputName) !== -1) {\n                // @ts-ignore\n                var param = worklet.parameters.get(inputName);\n                if (!param) {\n                    throw \"Unknown param \".concat(inputName);\n                }\n                if (typeof source === 'number') {\n                    param.value = source;\n                }\n                else {\n                    source.connect(param);\n                }\n            }\n        }\n    });\n}\n\n\n//# sourceURL=webpack:///./src/module/attenuverter.ts?");

/***/ }),

/***/ "./src/module/clock.ts":
/*!*****************************!*\
  !*** ./src/module/clock.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clock: () => (/* binding */ clock)\n/* harmony export */ });\n/* harmony import */ var _module_vco__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../module/vco */ \"./src/module/vco.ts\");\n/* harmony import */ var _clockDivider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./clockDivider */ \"./src/module/clockDivider.ts\");\n\n\nfunction clock(context, _a) {\n    var beatsPerMinute = _a.beatsPerMinute;\n    var thirtySecond = (0,_module_vco__WEBPACK_IMPORTED_MODULE_0__.vco)(context, {\n        frequency: 32 * beatsPerMinute / 60,\n        shape: 'square',\n    });\n    return {\n        thirtySecond: thirtySecond,\n        sixteenth: (0,_clockDivider__WEBPACK_IMPORTED_MODULE_1__.clockDivider)(context, { trigger: thirtySecond, division: 2 }),\n        eighth: (0,_clockDivider__WEBPACK_IMPORTED_MODULE_1__.clockDivider)(context, { trigger: thirtySecond, division: 4 }),\n        quarter: (0,_clockDivider__WEBPACK_IMPORTED_MODULE_1__.clockDivider)(context, { trigger: thirtySecond, division: 8 }),\n        half: (0,_clockDivider__WEBPACK_IMPORTED_MODULE_1__.clockDivider)(context, { trigger: thirtySecond, division: 16 }),\n        beat: (0,_clockDivider__WEBPACK_IMPORTED_MODULE_1__.clockDivider)(context, { trigger: thirtySecond, division: 32 }),\n    };\n}\n;\n\n\n//# sourceURL=webpack:///./src/module/clock.ts?");

/***/ }),

/***/ "./src/module/clockDivider.ts":
/*!************************************!*\
  !*** ./src/module/clockDivider.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clockDivider: () => (/* binding */ clockDivider)\n/* harmony export */ });\n/* harmony import */ var _sequencer_gateSequencer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../sequencer/gateSequencer */ \"./src/sequencer/gateSequencer.ts\");\n\nfunction clockDivider(context, _a) {\n    var trigger = _a.trigger, division = _a.division;\n    var sequence = [true];\n    for (var i = 0; i < division - 1; ++i) {\n        sequence.push(false);\n    }\n    return (0,_sequencer_gateSequencer__WEBPACK_IMPORTED_MODULE_0__.gateSequencer)(context, { sequence: sequence, trigger: trigger });\n}\n\n\n//# sourceURL=webpack:///./src/module/clockDivider.ts?");

/***/ }),

/***/ "./src/module/distortion.ts":
/*!**********************************!*\
  !*** ./src/module/distortion.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   distortion: () => (/* binding */ distortion)\n/* harmony export */ });\nfunction distortion(context, _a) {\n    var source = _a.source, _b = _a.amount, amount = _b === void 0 ? 400 : _b;\n    return context.define({\n        mapping: { source: source },\n        create: function (context) {\n            var node = new WaveShaperNode(context);\n            node.curve = makeDistortionCurve(amount);\n            node.oversample = '4x';\n            return { node: node };\n        },\n        connect: function (inputName, source, dest) {\n            var node = dest;\n            if (inputName === 'source') {\n                if (typeof source === 'number') {\n                    throw \"Invalid distortion source\";\n                }\n                else {\n                    source.connect(node);\n                }\n            }\n        },\n    });\n}\n// From https://developer.mozilla.org/en-US/docs/Web/API/BaseAudioContext/createWaveShaper\nfunction makeDistortionCurve(amount) {\n    var k = typeof amount === \"number\" ? amount : 50;\n    var n_samples = 44100;\n    var curve = new Float32Array(n_samples);\n    var deg = Math.PI / 180;\n    for (var i = 0; i < n_samples; i++) {\n        var x = (i * 2) / n_samples - 1;\n        curve[i] = ((3 + k) * x * 20 * deg) / (Math.PI + k * Math.abs(x));\n    }\n    return curve;\n}\n\n\n//# sourceURL=webpack:///./src/module/distortion.ts?");

/***/ }),

/***/ "./src/module/gate.ts":
/*!****************************!*\
  !*** ./src/module/gate.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   gate: () => (/* binding */ gate)\n/* harmony export */ });\nfunction gate(context, _a) {\n    var source = _a.source;\n    return context.define({\n        mapping: { source: source },\n        create: function (context) {\n            var node = new AudioWorkletNode(context, \"gate-processor\");\n            return { node: node };\n        },\n        connect: function (inputName, source, dest) {\n            var worklet = dest;\n            if (inputName === 'source') {\n                if (typeof source === 'number') {\n                    throw \"Invalid gate source\";\n                }\n                else {\n                    source.connect(worklet);\n                }\n            }\n        }\n    });\n}\n\n\n//# sourceURL=webpack:///./src/module/gate.ts?");

/***/ }),

/***/ "./src/module/index.ts":
/*!*****************************!*\
  !*** ./src/module/index.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   adsr: () => (/* reexport safe */ _adsr__WEBPACK_IMPORTED_MODULE_0__.adsr),\n/* harmony export */   attenuverter: () => (/* reexport safe */ _attenuverter__WEBPACK_IMPORTED_MODULE_1__.attenuverter),\n/* harmony export */   clock: () => (/* reexport safe */ _clock__WEBPACK_IMPORTED_MODULE_2__.clock),\n/* harmony export */   clockDivider: () => (/* reexport safe */ _clockDivider__WEBPACK_IMPORTED_MODULE_3__.clockDivider),\n/* harmony export */   distortion: () => (/* reexport safe */ _distortion__WEBPACK_IMPORTED_MODULE_4__.distortion),\n/* harmony export */   gate: () => (/* reexport safe */ _gate__WEBPACK_IMPORTED_MODULE_5__.gate),\n/* harmony export */   log: () => (/* reexport safe */ _log__WEBPACK_IMPORTED_MODULE_6__.log),\n/* harmony export */   noise: () => (/* reexport safe */ _noise__WEBPACK_IMPORTED_MODULE_7__.noise),\n/* harmony export */   octave: () => (/* reexport safe */ _octave__WEBPACK_IMPORTED_MODULE_8__.octave),\n/* harmony export */   output: () => (/* reexport safe */ _output__WEBPACK_IMPORTED_MODULE_9__.output),\n/* harmony export */   quantizer: () => (/* reexport safe */ _quantizer__WEBPACK_IMPORTED_MODULE_10__.quantizer),\n/* harmony export */   reverberator: () => (/* reexport safe */ _reverberator__WEBPACK_IMPORTED_MODULE_11__.reverberator),\n/* harmony export */   sampleAndHold: () => (/* reexport safe */ _sampleAndHold__WEBPACK_IMPORTED_MODULE_12__.sampleAndHold),\n/* harmony export */   sum: () => (/* reexport safe */ _sum__WEBPACK_IMPORTED_MODULE_13__.sum),\n/* harmony export */   vca: () => (/* reexport safe */ _vca__WEBPACK_IMPORTED_MODULE_14__.vca),\n/* harmony export */   vcf: () => (/* reexport safe */ _vcf__WEBPACK_IMPORTED_MODULE_15__.vcf),\n/* harmony export */   vco: () => (/* reexport safe */ _vco__WEBPACK_IMPORTED_MODULE_16__.vco)\n/* harmony export */ });\n/* harmony import */ var _adsr__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./adsr */ \"./src/module/adsr.ts\");\n/* harmony import */ var _attenuverter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./attenuverter */ \"./src/module/attenuverter.ts\");\n/* harmony import */ var _clock__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./clock */ \"./src/module/clock.ts\");\n/* harmony import */ var _clockDivider__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./clockDivider */ \"./src/module/clockDivider.ts\");\n/* harmony import */ var _distortion__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./distortion */ \"./src/module/distortion.ts\");\n/* harmony import */ var _gate__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./gate */ \"./src/module/gate.ts\");\n/* harmony import */ var _log__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./log */ \"./src/module/log.ts\");\n/* harmony import */ var _noise__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./noise */ \"./src/module/noise.ts\");\n/* harmony import */ var _octave__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./octave */ \"./src/module/octave.ts\");\n/* harmony import */ var _output__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./output */ \"./src/module/output.ts\");\n/* harmony import */ var _quantizer__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./quantizer */ \"./src/module/quantizer.ts\");\n/* harmony import */ var _reverberator__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./reverberator */ \"./src/module/reverberator.ts\");\n/* harmony import */ var _sampleAndHold__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./sampleAndHold */ \"./src/module/sampleAndHold.ts\");\n/* harmony import */ var _sum__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./sum */ \"./src/module/sum.ts\");\n/* harmony import */ var _vca__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./vca */ \"./src/module/vca.ts\");\n/* harmony import */ var _vcf__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./vcf */ \"./src/module/vcf.ts\");\n/* harmony import */ var _vco__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./vco */ \"./src/module/vco.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=webpack:///./src/module/index.ts?");

/***/ }),

/***/ "./src/module/log.ts":
/*!***************************!*\
  !*** ./src/module/log.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   log: () => (/* binding */ log)\n/* harmony export */ });\nfunction log(context, _a) {\n    var source = _a.source;\n    return context.define({\n        mapping: { source: source },\n        create: function (context) {\n            var node = new AudioWorkletNode(context, 'logging-processor', { processorOptions: { sampleDenominator: 100 } });\n            node.port.onmessage = function (message) {\n                console.log(message.data.sample);\n            };\n            return { node: node };\n        },\n        connect: function (inputName, source, dest) {\n            var vca = dest;\n            if (inputName === 'source') {\n                if (typeof source === 'number') {\n                    throw \"Invalid log source\";\n                }\n                else {\n                    source.connect(vca);\n                }\n            }\n        }\n    });\n}\n\n\n//# sourceURL=webpack:///./src/module/log.ts?");

/***/ }),

/***/ "./src/module/noise.ts":
/*!*****************************!*\
  !*** ./src/module/noise.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   noise: () => (/* binding */ noise)\n/* harmony export */ });\nfunction noise(context) {\n    return context.define({\n        mapping: {},\n        create: function (context) {\n            var node = new AudioWorkletNode(context, \"white-noise-processor\");\n            return { node: node };\n        },\n        connect: function () { }\n    });\n}\n\n\n//# sourceURL=webpack:///./src/module/noise.ts?");

/***/ }),

/***/ "./src/module/octave.ts":
/*!******************************!*\
  !*** ./src/module/octave.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   octave: () => (/* binding */ octave)\n/* harmony export */ });\nfunction octave(context, _a) {\n    var source = _a.source, _b = _a.octaves, octaves = _b === void 0 ? 0 : _b;\n    octaves = Math.floor(octaves);\n    var factor = Math.pow(2, octaves);\n    return context.define({\n        mapping: { source: source },\n        create: function (context) {\n            var node = new GainNode(context);\n            node.gain.value = factor;\n            return { node: node };\n        },\n        connect: function (inputName, source, dest) {\n            var worklet = dest;\n            if (inputName === 'source') {\n                if (typeof source === 'number') {\n                    throw \"Invalid octave source\";\n                }\n                else {\n                    source.connect(worklet);\n                }\n            }\n        }\n    });\n}\n\n\n//# sourceURL=webpack:///./src/module/octave.ts?");

/***/ }),

/***/ "./src/module/output.ts":
/*!******************************!*\
  !*** ./src/module/output.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   output: () => (/* binding */ output)\n/* harmony export */ });\nfunction output(context, _a) {\n    var source = _a.source, _b = _a.gain, gain = _b === void 0 ? 1 : _b;\n    return context.define({\n        mapping: { source: source },\n        create: function (context) {\n            var node = new GainNode(context);\n            node.gain.value = gain;\n            node.connect(context.destination);\n            return { node: node };\n        },\n        connect: function (inputName, source, dest) {\n            var vca = dest;\n            if (inputName === 'source') {\n                if (typeof source === 'number') {\n                    throw \"Invalid gain source\";\n                }\n                else {\n                    source.connect(vca);\n                }\n            }\n        }\n    });\n}\n\n\n//# sourceURL=webpack:///./src/module/output.ts?");

/***/ }),

/***/ "./src/module/quantizer.ts":
/*!*********************************!*\
  !*** ./src/module/quantizer.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   quantizer: () => (/* binding */ quantizer)\n/* harmony export */ });\nfunction quantizer(context, _a) {\n    var source = _a.source, quanta = _a.quanta;\n    return context.define({\n        mapping: { source: source },\n        create: function (context) {\n            var node = new AudioWorkletNode(context, 'quantizer-processor', { processorOptions: { quanta: quanta } });\n            return { node: node };\n        },\n        connect: function (inputName, source, dest) {\n            var worklet = dest;\n            if (inputName === 'source') {\n                if (typeof source === 'number') {\n                    throw \"Invalid quantizer source\";\n                }\n                else {\n                    source.connect(worklet);\n                }\n            }\n        }\n    });\n}\n\n\n//# sourceURL=webpack:///./src/module/quantizer.ts?");

/***/ }),

/***/ "./src/module/reverberator.ts":
/*!************************************!*\
  !*** ./src/module/reverberator.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   reverberator: () => (/* binding */ reverberator)\n/* harmony export */ });\n/* harmony import */ var soundbank_reverb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! soundbank-reverb */ \"./node_modules/soundbank-reverb/index.js\");\n/* harmony import */ var soundbank_reverb__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(soundbank_reverb__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction reverberator(context, _a) {\n    var source = _a.source;\n    return context.define({\n        mapping: { source: source },\n        create: function (context) {\n            var node = new (soundbank_reverb__WEBPACK_IMPORTED_MODULE_0___default())(context);\n            return { node: node };\n        },\n        connect: function (inputName, source, dest) {\n            var reverb = dest;\n            if (inputName === 'source') {\n                if (typeof source === 'number') {\n                    throw \"Invalid reverb source\";\n                }\n                else {\n                    source.connect(reverb);\n                }\n            }\n        },\n    });\n}\n\n\n//# sourceURL=webpack:///./src/module/reverberator.ts?");

/***/ }),

/***/ "./src/module/sampleAndHold.ts":
/*!*************************************!*\
  !*** ./src/module/sampleAndHold.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   sampleAndHold: () => (/* binding */ sampleAndHold)\n/* harmony export */ });\nfunction sampleAndHold(context, _a) {\n    var source = _a.source, trigger = _a.trigger;\n    var comparator;\n    return context.define({\n        mapping: { source: source, trigger: trigger },\n        create: function (context) {\n            var sampler = new AudioWorkletNode(context, \"sample-processor\");\n            comparator = new AudioWorkletNode(context, \"comparator-processor\");\n            var node = new ConstantSourceNode(context);\n            comparator.port.onmessage = function (message) {\n                if (message.data === 'above') {\n                    sampler.port.postMessage(null);\n                }\n            };\n            sampler.port.onmessage = function (message) {\n                node.offset.setValueAtTime(message.data, context.currentTime);\n            };\n            return { node: node, inputNode: sampler, isSource: true };\n        },\n        connect: function (inputName, source, dest) {\n            if (inputName === 'source') {\n                if (typeof source === 'number') {\n                    throw \"Invalid s&h source\";\n                }\n                else {\n                    source.connect(dest);\n                }\n            }\n            else if (inputName === 'trigger') {\n                if (typeof source === 'number') {\n                    throw \"Invalid s&h trigger\";\n                }\n                else if (!comparator) {\n                    throw 'Comparator failed to initialize';\n                }\n                else {\n                    source.connect(comparator);\n                }\n            }\n        }\n    });\n}\n\n\n//# sourceURL=webpack:///./src/module/sampleAndHold.ts?");

/***/ }),

/***/ "./src/module/sum.ts":
/*!***************************!*\
  !*** ./src/module/sum.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   sum: () => (/* binding */ sum)\n/* harmony export */ });\nfunction sum(context, _a) {\n    var inputs = _a.inputs;\n    var mapping = {};\n    for (var index = 0; index < inputs.length; ++index) {\n        mapping[index] = inputs[index];\n    }\n    return context.define({\n        mapping: mapping,\n        create: function (context) {\n            var node = context.createGain();\n            node.gain.value = 1 / inputs.length;\n            return { node: node };\n        },\n        connect: function (inputName, source, dest) {\n            var gain = dest;\n            if (typeof source === 'number') {\n                throw 'Cannot sum a constant';\n            }\n            else {\n                source.connect(gain);\n            }\n        },\n    });\n}\n\n\n//# sourceURL=webpack:///./src/module/sum.ts?");

/***/ }),

/***/ "./src/module/vca.ts":
/*!***************************!*\
  !*** ./src/module/vca.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   vca: () => (/* binding */ vca)\n/* harmony export */ });\nfunction vca(context, _a) {\n    var input = _a.input, gain = _a.gain;\n    return context.define({\n        mapping: { input: input, gain: gain },\n        create: function (context) {\n            var node = new GainNode(context);\n            node.gain.value = 0;\n            return { node: node };\n        },\n        connect: function (inputName, source, dest) {\n            var vca = dest;\n            if (inputName === 'input') {\n                if (typeof source === 'number') {\n                    throw \"Invalid VCA source\";\n                }\n                source.connect(vca);\n            }\n            else if (inputName === 'gain') {\n                if (typeof source === 'number') {\n                    vca.gain.value = source;\n                }\n                else {\n                    source.connect(vca.gain);\n                }\n            }\n        }\n    });\n}\n\n\n//# sourceURL=webpack:///./src/module/vca.ts?");

/***/ }),

/***/ "./src/module/vcf.ts":
/*!***************************!*\
  !*** ./src/module/vcf.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   vcf: () => (/* binding */ vcf)\n/* harmony export */ });\nfunction vcf(context, _a) {\n    var source = _a.source, type = _a.type, cutoff = _a.cutoff, resonance = _a.resonance;\n    return context.define({\n        mapping: { source: source, cutoff: cutoff, resonance: resonance },\n        create: function (context) {\n            var node = new BiquadFilterNode(context, { type: type });\n            node.gain.value = 1;\n            return { node: node };\n        },\n        connect: function (inputName, source, dest) {\n            var vcf = dest;\n            if (inputName === 'source') {\n                if (typeof source === 'number') {\n                    throw \"Invalid VCF source\";\n                }\n                else {\n                    source.connect(vcf);\n                }\n            }\n            else if (inputName === 'cutoff') {\n                if (typeof source === 'number') {\n                    vcf.frequency.value = source;\n                }\n                else {\n                    source.connect(vcf.frequency);\n                }\n            }\n            else if (inputName === 'resonance') {\n                if (typeof source === 'number') {\n                    vcf.Q.value = source;\n                }\n                else {\n                    source.connect(vcf.Q);\n                }\n            }\n        }\n    });\n}\n\n\n//# sourceURL=webpack:///./src/module/vcf.ts?");

/***/ }),

/***/ "./src/module/vco.ts":
/*!***************************!*\
  !*** ./src/module/vco.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   vco: () => (/* binding */ vco)\n/* harmony export */ });\nfunction vco(context, _a) {\n    var frequency = _a.frequency, shape = _a.shape;\n    return context.define({\n        mapping: { frequency: frequency },\n        create: function (context) {\n            var node = context.createOscillator();\n            node.type = shape;\n            node.frequency.value = 0;\n            return { node: node, isSource: true };\n        },\n        connect: function (inputName, source, dest) {\n            var osc = dest;\n            if (inputName === 'frequency') {\n                if (typeof source === 'number') {\n                    osc.frequency.value = source;\n                }\n                else {\n                    source.connect(osc.frequency);\n                }\n            }\n        },\n    });\n}\n\n\n//# sourceURL=webpack:///./src/module/vco.ts?");

/***/ }),

/***/ "./src/scale/chromatic.ts":
/*!********************************!*\
  !*** ./src/scale/chromatic.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CHROMATIC_PICHES_IN_ORDER: () => (/* binding */ CHROMATIC_PICHES_IN_ORDER),\n/* harmony export */   CHROMATIC_PITCHES: () => (/* binding */ CHROMATIC_PITCHES),\n/* harmony export */   PITCH: () => (/* binding */ PITCH),\n/* harmony export */   PITCH_CLASS_INDEX: () => (/* binding */ PITCH_CLASS_INDEX),\n/* harmony export */   getPitch: () => (/* binding */ getPitch),\n/* harmony export */   pitchMap: () => (/* binding */ pitchMap)\n/* harmony export */ });\nvar PITCH_CLASS_INDEX = {\n    c: 0,\n    db: 1,\n    d: 2,\n    eb: 3,\n    e: 4,\n    f: 5,\n    gb: 6,\n    g: 7,\n    ab: 8,\n    a: 9,\n    bb: 10,\n    b: 11,\n};\nvar CHROMATIC_PITCHES = [\n    { pitchClass: 'c', octave: 0, frequency: 16.35 },\n    { pitchClass: 'db', octave: 0, frequency: 17.32 },\n    { pitchClass: 'd', octave: 0, frequency: 18.35 },\n    { pitchClass: 'eb', octave: 0, frequency: 19.45 },\n    { pitchClass: 'e', octave: 0, frequency: 20.6 },\n    { pitchClass: 'f', octave: 0, frequency: 21.83 },\n    { pitchClass: 'gb', octave: 0, frequency: 23.12 },\n    { pitchClass: 'g', octave: 0, frequency: 24.5 },\n    { pitchClass: 'ab', octave: 0, frequency: 25.96 },\n    { pitchClass: 'a', octave: 0, frequency: 27.5 },\n    { pitchClass: 'bb', octave: 0, frequency: 29.14 },\n    { pitchClass: 'b', octave: 0, frequency: 30.87 },\n    { pitchClass: 'c', octave: 1, frequency: 32.7 },\n    { pitchClass: 'db', octave: 1, frequency: 34.65 },\n    { pitchClass: 'd', octave: 1, frequency: 36.71 },\n    { pitchClass: 'eb', octave: 1, frequency: 38.89 },\n    { pitchClass: 'e', octave: 1, frequency: 41.2 },\n    { pitchClass: 'f', octave: 1, frequency: 43.65 },\n    { pitchClass: 'gb', octave: 1, frequency: 46.25 },\n    { pitchClass: 'g', octave: 1, frequency: 49 },\n    { pitchClass: 'ab', octave: 1, frequency: 51.91 },\n    { pitchClass: 'a', octave: 1, frequency: 55 },\n    { pitchClass: 'bb', octave: 1, frequency: 58.27 },\n    { pitchClass: 'b', octave: 1, frequency: 61.74 },\n    { pitchClass: 'c', octave: 2, frequency: 65.41 },\n    { pitchClass: 'db', octave: 2, frequency: 69.3 },\n    { pitchClass: 'd', octave: 2, frequency: 73.42 },\n    { pitchClass: 'eb', octave: 2, frequency: 77.78 },\n    { pitchClass: 'e', octave: 2, frequency: 82.41 },\n    { pitchClass: 'f', octave: 2, frequency: 87.31 },\n    { pitchClass: 'gb', octave: 2, frequency: 92.5 },\n    { pitchClass: 'g', octave: 2, frequency: 98 },\n    { pitchClass: 'ab', octave: 2, frequency: 103.83 },\n    { pitchClass: 'a', octave: 2, frequency: 110 },\n    { pitchClass: 'bb', octave: 2, frequency: 116.54 },\n    { pitchClass: 'b', octave: 2, frequency: 123.47 },\n    { pitchClass: 'c', octave: 3, frequency: 130.81 },\n    { pitchClass: 'db', octave: 3, frequency: 138.59 },\n    { pitchClass: 'd', octave: 3, frequency: 146.83 },\n    { pitchClass: 'eb', octave: 3, frequency: 155.56 },\n    { pitchClass: 'e', octave: 3, frequency: 164.81 },\n    { pitchClass: 'f', octave: 3, frequency: 174.61 },\n    { pitchClass: 'gb', octave: 3, frequency: 185 },\n    { pitchClass: 'g', octave: 3, frequency: 196 },\n    { pitchClass: 'ab', octave: 3, frequency: 207.65 },\n    { pitchClass: 'a', octave: 3, frequency: 220 },\n    { pitchClass: 'bb', octave: 3, frequency: 233.08 },\n    { pitchClass: 'b', octave: 3, frequency: 246.94 },\n    { pitchClass: 'c', octave: 4, frequency: 261.63 },\n    { pitchClass: 'db', octave: 4, frequency: 277.18 },\n    { pitchClass: 'd', octave: 4, frequency: 293.66 },\n    { pitchClass: 'eb', octave: 4, frequency: 311.13 },\n    { pitchClass: 'e', octave: 4, frequency: 329.63 },\n    { pitchClass: 'f', octave: 4, frequency: 349.23 },\n    { pitchClass: 'gb', octave: 4, frequency: 369.99 },\n    { pitchClass: 'g', octave: 4, frequency: 392 },\n    { pitchClass: 'ab', octave: 4, frequency: 415.3 },\n    { pitchClass: 'a', octave: 4, frequency: 440 },\n    { pitchClass: 'bb', octave: 4, frequency: 466.16 },\n    { pitchClass: 'b', octave: 4, frequency: 493.88 },\n    { pitchClass: 'c', octave: 5, frequency: 523.25 },\n    { pitchClass: 'db', octave: 5, frequency: 554.37 },\n    { pitchClass: 'd', octave: 5, frequency: 587.33 },\n    { pitchClass: 'eb', octave: 5, frequency: 622.25 },\n    { pitchClass: 'e', octave: 5, frequency: 659.26 },\n    { pitchClass: 'f', octave: 5, frequency: 698.46 },\n    { pitchClass: 'gb', octave: 5, frequency: 739.99 },\n    { pitchClass: 'g', octave: 5, frequency: 783.99 },\n    { pitchClass: 'ab', octave: 5, frequency: 830.61 },\n    { pitchClass: 'a', octave: 5, frequency: 880 },\n    { pitchClass: 'bb', octave: 5, frequency: 932.33 },\n    { pitchClass: 'b', octave: 5, frequency: 987.77 },\n];\nvar pitchMap = new Map(CHROMATIC_PITCHES.map(function (_a) {\n    var pitchClass = _a.pitchClass, octave = _a.octave, frequency = _a.frequency;\n    return [\"\".concat(pitchClass).concat(octave), frequency];\n}));\nfunction getPitch(pitchClass, octave) {\n    return pitchMap.get(\"\".concat(pitchClass).concat(octave));\n}\nvar PITCH = {\n    c0: pitchMap.get('c0'),\n    d0b: pitchMap.get('db0'),\n    d0: pitchMap.get('d0'),\n    e0b: pitchMap.get('eb0'),\n    e0: pitchMap.get('e0'),\n    f0: pitchMap.get('f0'),\n    g0b: pitchMap.get('gb0'),\n    g0: pitchMap.get('g0'),\n    a0b: pitchMap.get('ab0'),\n    a0: pitchMap.get('a0'),\n    b0b: pitchMap.get('ab0'),\n    b0: pitchMap.get('b0'),\n    c1: pitchMap.get('c1'),\n    d1b: pitchMap.get('db1'),\n    d1: pitchMap.get('d1'),\n    e1b: pitchMap.get('eb1'),\n    e1: pitchMap.get('e1'),\n    f1: pitchMap.get('f1'),\n    g1b: pitchMap.get('gb1'),\n    g1: pitchMap.get('g1'),\n    a1b: pitchMap.get('ab1'),\n    a1: pitchMap.get('a1'),\n    b1b: pitchMap.get('bb1'),\n    b1: pitchMap.get('b1'),\n    c2: pitchMap.get('c2'),\n    d2b: pitchMap.get('db2'),\n    d2: pitchMap.get('d2'),\n    e2b: pitchMap.get('eb2'),\n    e2: pitchMap.get('e2'),\n    f2: pitchMap.get('f2'),\n    g2b: pitchMap.get('gb2'),\n    g2: pitchMap.get('g2'),\n    a2b: pitchMap.get('ab2'),\n    a2: pitchMap.get('a2'),\n    b2b: pitchMap.get('bb2'),\n    b2: pitchMap.get('b2'),\n    c3: pitchMap.get('c3'),\n    d3b: pitchMap.get('db3'),\n    d3: pitchMap.get('d3'),\n    e3b: pitchMap.get('eb3'),\n    e3: pitchMap.get('e3'),\n    f3: pitchMap.get('f3'),\n    g3b: pitchMap.get('gb3'),\n    g3: pitchMap.get('g3'),\n    a3b: pitchMap.get('ab3'),\n    a3: pitchMap.get('a3'),\n    b3b: pitchMap.get('bb3'),\n    b3: pitchMap.get('b3'),\n    c4: pitchMap.get('c4'),\n    d4b: pitchMap.get('db4'),\n    d4: pitchMap.get('d4'),\n    e4b: pitchMap.get('eb4'),\n    e4: pitchMap.get('e4'),\n    f4: pitchMap.get('f4'),\n    g4b: pitchMap.get('gb4'),\n    g4: pitchMap.get('g4'),\n    a4b: pitchMap.get('ab4'),\n    a4: pitchMap.get('a4'),\n    b4b: pitchMap.get('bb4'),\n    b4: pitchMap.get('b4'),\n    c5: pitchMap.get('c5'),\n    d5b: pitchMap.get('db5'),\n    d5: pitchMap.get('d5'),\n    e5b: pitchMap.get('eb5'),\n    e5: pitchMap.get('e5'),\n    f5: pitchMap.get('f5'),\n    g5b: pitchMap.get('db5'),\n    g5: pitchMap.get('g5'),\n    a5b: pitchMap.get('ab5'),\n    a5: pitchMap.get('a5'),\n    b5b: pitchMap.get('bb5'),\n    b5: pitchMap.get('b5'),\n};\nvar inOrder = Object.values(PITCH);\ninOrder.sort(function (a, b) { return a - b; });\nvar CHROMATIC_PICHES_IN_ORDER = inOrder;\n\n\n//# sourceURL=webpack:///./src/scale/chromatic.ts?");

/***/ }),

/***/ "./src/scale/modes.ts":
/*!****************************!*\
  !*** ./src/scale/modes.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DORIAN: () => (/* binding */ DORIAN),\n/* harmony export */   LOCRIAN: () => (/* binding */ LOCRIAN),\n/* harmony export */   LYDIAN: () => (/* binding */ LYDIAN),\n/* harmony export */   LYDIAN_DIMINISHED: () => (/* binding */ LYDIAN_DIMINISHED),\n/* harmony export */   MAJOR: () => (/* binding */ MAJOR),\n/* harmony export */   MAJOR_PENTATONIC: () => (/* binding */ MAJOR_PENTATONIC),\n/* harmony export */   MINOR_PENTATONIC: () => (/* binding */ MINOR_PENTATONIC),\n/* harmony export */   MIXOLYDIAN: () => (/* binding */ MIXOLYDIAN),\n/* harmony export */   NATURAL_MINOR: () => (/* binding */ NATURAL_MINOR),\n/* harmony export */   PHRYGIAN: () => (/* binding */ PHRYGIAN),\n/* harmony export */   chords: () => (/* binding */ chords),\n/* harmony export */   enumerateScale: () => (/* binding */ enumerateScale),\n/* harmony export */   enumerateScalePitches: () => (/* binding */ enumerateScalePitches)\n/* harmony export */ });\n/* harmony import */ var _chromatic__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chromatic */ \"./src/scale/chromatic.ts\");\nvar __assign = (undefined && undefined.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n\n// From https://en.wikipedia.org/wiki/List_of_musical_scales_and_modes\nvar DORIAN = [0, 2, 3, 5, 7, 9, 10];\nvar LYDIAN = [0, 2, 4, 6, 7, 9, 11];\nvar LOCRIAN = [0, 1, 3, 5, 6, 8, 10];\nvar LYDIAN_DIMINISHED = [0, 2, 3, 6, 7, 9, 11];\nvar MAJOR = [0, 2, 4, 5, 7, 9, 11];\nvar MAJOR_PENTATONIC = [0, 2, 4, 7, 9];\nvar MIXOLYDIAN = [0, 2, 4, 5, 7, 9, 10];\nvar MINOR_PENTATONIC = [0, 3, 5, 7, 10];\nvar NATURAL_MINOR = [0, 2, 3, 5, 7, 8, 10];\nvar PHRYGIAN = [0, 1, 3, 5, 7, 8, 10];\nfunction enumerateScale(_a) {\n    var root = _a.root, mode = _a.mode;\n    var firstIndex = _chromatic__WEBPACK_IMPORTED_MODULE_0__.CHROMATIC_PITCHES.findIndex(function (_a) {\n        var pitchClass = _a.pitchClass;\n        return pitchClass === root;\n    });\n    var result = [];\n    for (var octaveIndex = firstIndex - 12; octaveIndex < _chromatic__WEBPACK_IMPORTED_MODULE_0__.CHROMATIC_PITCHES.length; octaveIndex += 12) {\n        for (var _i = 0, mode_1 = mode; _i < mode_1.length; _i++) {\n            var modeIndex = mode_1[_i];\n            var pitchIndex = octaveIndex + modeIndex;\n            if (pitchIndex < 0) {\n                continue;\n            }\n            if (pitchIndex > _chromatic__WEBPACK_IMPORTED_MODULE_0__.CHROMATIC_PITCHES.length) {\n                break;\n            }\n            result.push(_chromatic__WEBPACK_IMPORTED_MODULE_0__.CHROMATIC_PITCHES[pitchIndex]);\n        }\n    }\n    return result;\n}\nfunction enumerateScalePitches(_a) {\n    var root = _a.root, mode = _a.mode;\n    return enumerateScale({ root: root, mode: mode }).map(function (_a) {\n        var frequency = _a.frequency;\n        return frequency;\n    });\n}\nfunction chords(_a, chordOctave) {\n    var root = _a.root, mode = _a.mode;\n    var allPitches = enumerateScale({ root: root, mode: mode });\n    var startIndex = allPitches.findIndex(function (_a) {\n        var pitchClass = _a.pitchClass, octave = _a.octave;\n        return pitchClass === root && octave == chordOctave;\n    });\n    var range = allPitches\n        .slice(startIndex, startIndex + 2 * mode.length)\n        .map(function (_a) {\n        var frequency = _a.frequency;\n        return frequency;\n    });\n    var result = {\n        I7: [range[0], range[2], range[4], range[6]],\n        ii7: [range[1], range[3], range[5], range[7]],\n        iii7: [range[2], range[4], range[6], range[8]],\n        IV7: [range[3], range[5], range[7], range[9]],\n        V7: [range[4], range[6], range[8], range[10]],\n        vi7: [range[5], range[7], range[9], range[11]],\n        viidim7: [range[6], range[8], range[10], range[12]],\n    };\n    return __assign(__assign({}, result), { I: result.I7.slice(0, 3), ii: result.ii7.slice(0, 3), iii: result.iii7.slice(0, 3), IV: result.IV7.slice(0, 3), V: result.V7.slice(0, 3), vi: result.vi7.slice(0, 3), viidim: result.viidim7.slice(0, 3) });\n}\n\n\n//# sourceURL=webpack:///./src/scale/modes.ts?");

/***/ }),

/***/ "./src/sequencer/drumSequencer.ts":
/*!****************************************!*\
  !*** ./src/sequencer/drumSequencer.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   drumSequencer: () => (/* binding */ drumSequencer)\n/* harmony export */ });\n/* harmony import */ var _gateSequencer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./gateSequencer */ \"./src/sequencer/gateSequencer.ts\");\n/* harmony import */ var _sequentialSwitch__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sequentialSwitch */ \"./src/sequencer/sequentialSwitch.ts\");\n\n\nfunction drumSequencer(context, _a) {\n    var channels = _a.channels, clockX2 = _a.clockX2;\n    var gates = [];\n    var velocities = [];\n    for (var _i = 0, channels_1 = channels; _i < channels_1.length; _i++) {\n        var channel = channels_1[_i];\n        var unscaledVelocitySequence = [];\n        for (var index = 0; index < channel.length; ++index) {\n            var char = channel.charAt(index);\n            unscaledVelocitySequence.push(char === ' '\n                ? 0\n                : /^\\d$/g.test(char)\n                    ? parseInt(char)\n                    : 10, 0);\n        }\n        velocities.push((0,_sequentialSwitch__WEBPACK_IMPORTED_MODULE_1__.sequentialSwitch)(context, {\n            sequence: unscaledVelocitySequence.map(function (velocity) { return velocity / 10; }),\n            trigger: clockX2,\n        }));\n        gates.push((0,_gateSequencer__WEBPACK_IMPORTED_MODULE_0__.gateSequencer)(context, {\n            sequence: unscaledVelocitySequence.map(function (gain) { return gain !== 0; }),\n            trigger: clockX2,\n        }));\n    }\n    return { gates: gates, velocities: velocities };\n}\n\n\n//# sourceURL=webpack:///./src/sequencer/drumSequencer.ts?");

/***/ }),

/***/ "./src/sequencer/gateSequencer.ts":
/*!****************************************!*\
  !*** ./src/sequencer/gateSequencer.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   gateSequencer: () => (/* binding */ gateSequencer)\n/* harmony export */ });\n/* harmony import */ var _sequentialSwitch__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./sequentialSwitch */ \"./src/sequencer/sequentialSwitch.ts\");\n\nfunction gateSequencer(context, _a) {\n    var sequence = _a.sequence, trigger = _a.trigger;\n    return (0,_sequentialSwitch__WEBPACK_IMPORTED_MODULE_0__.sequentialSwitch)(context, {\n        trigger: trigger,\n        sequence: sequence.map(function (gate) { return gate ? 1 : 0; })\n    });\n}\n\n\n//# sourceURL=webpack:///./src/sequencer/gateSequencer.ts?");

/***/ }),

/***/ "./src/sequencer/index.ts":
/*!********************************!*\
  !*** ./src/sequencer/index.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   drumSequencer: () => (/* reexport safe */ _drumSequencer__WEBPACK_IMPORTED_MODULE_0__.drumSequencer),\n/* harmony export */   gateSequencer: () => (/* reexport safe */ _gateSequencer__WEBPACK_IMPORTED_MODULE_1__.gateSequencer),\n/* harmony export */   sequentialSwitch: () => (/* reexport safe */ _sequentialSwitch__WEBPACK_IMPORTED_MODULE_2__.sequentialSwitch)\n/* harmony export */ });\n/* harmony import */ var _drumSequencer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./drumSequencer */ \"./src/sequencer/drumSequencer.ts\");\n/* harmony import */ var _gateSequencer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./gateSequencer */ \"./src/sequencer/gateSequencer.ts\");\n/* harmony import */ var _sequentialSwitch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./sequentialSwitch */ \"./src/sequencer/sequentialSwitch.ts\");\n\n\n\n\n\n//# sourceURL=webpack:///./src/sequencer/index.ts?");

/***/ }),

/***/ "./src/sequencer/sequentialSwitch.ts":
/*!*******************************************!*\
  !*** ./src/sequencer/sequentialSwitch.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   sequentialSwitch: () => (/* binding */ sequentialSwitch)\n/* harmony export */ });\nfunction sequentialSwitch(context, _a) {\n    var sequence = _a.sequence, trigger = _a.trigger;\n    var index = 0;\n    return context.define({\n        mapping: { trigger: trigger },\n        create: function (context) {\n            var comparator = new AudioWorkletNode(context, \"comparator-processor\");\n            var node = new ConstantSourceNode(context);\n            node.offset.value = 0;\n            comparator.port.onmessage = function (message) {\n                if (message.data === 'below') {\n                    return;\n                }\n                index = (index + 1) % sequence.length;\n                node.offset.setValueAtTime(sequence[index], context.currentTime);\n            };\n            return { node: node, inputNode: comparator, isSource: true };\n        },\n        connect: function (inputName, source, dest) {\n            var worklet = dest;\n            if (inputName === 'trigger') {\n                if (typeof source === 'number') {\n                    throw \"Invalid sequencer trigger\";\n                }\n                else {\n                    source.connect(worklet);\n                }\n            }\n        }\n    });\n}\n\n\n//# sourceURL=webpack:///./src/sequencer/sequentialSwitch.ts?");

/***/ }),

/***/ "./src/song.ts":
/*!*********************!*\
  !*** ./src/song.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _WiggleContext__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./WiggleContext */ \"./src/WiggleContext.ts\");\n/* harmony import */ var _instrument__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./instrument */ \"./src/instrument/index.ts\");\n/* harmony import */ var _module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./module */ \"./src/module/index.ts\");\n/* harmony import */ var _sequencer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./sequencer */ \"./src/sequencer/index.ts\");\n/* harmony import */ var _scale_modes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./scale/modes */ \"./src/scale/modes.ts\");\n/* harmony import */ var _widgets__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./widgets */ \"./src/widgets/index.ts\");\n/* harmony import */ var _widgets_keyboard__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./widgets/keyboard */ \"./src/widgets/keyboard.ts\");\n\n\n\n\n\n\n\nvar ctx = new _WiggleContext__WEBPACK_IMPORTED_MODULE_0__.WiggleContext('#container');\nvar master = (0,_module__WEBPACK_IMPORTED_MODULE_2__.clock)(ctx, { beatsPerMinute: 120 });\nvar drumsLevel = (0,_widgets__WEBPACK_IMPORTED_MODULE_5__.toggle)(ctx, { label: 'Drums', initialState: true });\nvar melodyLevel = (0,_widgets__WEBPACK_IMPORTED_MODULE_5__.slider)(ctx, {\n    label: 'Melody Level',\n    minimum: 0,\n    maximum: 1,\n    initialValue: 0.75,\n});\nvar bassLevel = (0,_widgets__WEBPACK_IMPORTED_MODULE_5__.slider)(ctx, {\n    label: 'Bass Level',\n    minimum: 0,\n    maximum: 1,\n    initialValue: 0.75,\n});\nvar _a = (0,_sequencer__WEBPACK_IMPORTED_MODULE_3__.drumSequencer)(ctx, {\n    channels: [\n        '.   .   .   .   .   .   .   . 7 ',\n        ' .5   5.',\n        '    .   ',\n        '.. . ',\n        '. . ... . ',\n    ],\n    clockX2: master.eighth,\n}), _b = _a.gates, kickGate = _b[0], hatGate = _b[1], snareGate = _b[2], melodyGroove = _b[3], bassGroove = _b[4], _c = _a.velocities, kickVelocity = _c[0], hatVelocity = _c[1];\nvar drums = (0,_module__WEBPACK_IMPORTED_MODULE_2__.vca)(ctx, {\n    input: (0,_module__WEBPACK_IMPORTED_MODULE_2__.sum)(ctx, {\n        inputs: [\n            (0,_module__WEBPACK_IMPORTED_MODULE_2__.vca)(ctx, {\n                input: (0,_instrument__WEBPACK_IMPORTED_MODULE_1__.fmKick)(ctx, {\n                    gate: kickGate,\n                }),\n                gain: kickVelocity,\n            }),\n            (0,_module__WEBPACK_IMPORTED_MODULE_2__.vca)(ctx, {\n                input: (0,_instrument__WEBPACK_IMPORTED_MODULE_1__.hat)(ctx, {\n                    gate: hatGate,\n                }),\n                gain: hatVelocity,\n            }),\n            (0,_instrument__WEBPACK_IMPORTED_MODULE_1__.snare)(ctx, {\n                gate: snareGate,\n            }),\n        ]\n    }),\n    gain: drumsLevel,\n});\nvar _d = (0,_scale_modes__WEBPACK_IMPORTED_MODULE_4__.chords)({ root: 'c', mode: _scale_modes__WEBPACK_IMPORTED_MODULE_4__.MAJOR }, 3), I = _d.I, V = _d.V, vi = _d.vi, IV = _d.IV;\nvar sequence = [I, V, vi, IV, vi, V, vi, IV];\nvar freqSequences = [0, 1, 2].map(function (i) { return (0,_sequencer__WEBPACK_IMPORTED_MODULE_3__.sequentialSwitch)(ctx, {\n    trigger: (0,_module__WEBPACK_IMPORTED_MODULE_2__.clockDivider)(ctx, { trigger: master.beat, division: 4 }),\n    sequence: sequence.map(function (fs) { return fs[i]; }),\n}); });\nvar melody = (0,_module__WEBPACK_IMPORTED_MODULE_2__.vca)(ctx, {\n    gain: melodyLevel,\n    input: (0,_module__WEBPACK_IMPORTED_MODULE_2__.reverberator)(ctx, {\n        source: (0,_module__WEBPACK_IMPORTED_MODULE_2__.vca)(ctx, {\n            gain: (0,_module__WEBPACK_IMPORTED_MODULE_2__.adsr)(ctx, {\n                gate: melodyGroove,\n                attack: 0.1,\n                decay: 0.5,\n            }),\n            input: (0,_module__WEBPACK_IMPORTED_MODULE_2__.sum)(ctx, {\n                inputs: freqSequences.map(function (frequency) { return (0,_module__WEBPACK_IMPORTED_MODULE_2__.vco)(ctx, { frequency: frequency, shape: 'triangle' }); }),\n            }),\n        }),\n    }),\n});\nvar basslineIndexSequence = [0, 0, 2, 1];\nvar bassline = (0,_module__WEBPACK_IMPORTED_MODULE_2__.octave)(ctx, {\n    octaves: -1,\n    source: (0,_sequencer__WEBPACK_IMPORTED_MODULE_3__.sequentialSwitch)(ctx, {\n        trigger: master.beat,\n        sequence: sequence.map(function (chord, index) {\n            return chord[basslineIndexSequence[index % basslineIndexSequence.length]];\n        })\n    })\n});\nvar bass = (0,_module__WEBPACK_IMPORTED_MODULE_2__.vca)(ctx, {\n    gain: bassLevel,\n    input: (0,_module__WEBPACK_IMPORTED_MODULE_2__.vca)(ctx, {\n        gain: (0,_module__WEBPACK_IMPORTED_MODULE_2__.adsr)(ctx, {\n            gate: bassGroove,\n            attack: 0,\n            decay: 1,\n        }),\n        input: (0,_module__WEBPACK_IMPORTED_MODULE_2__.vcf)(ctx, {\n            type: 'lowpass',\n            cutoff: 300,\n            resonance: 2,\n            source: (0,_module__WEBPACK_IMPORTED_MODULE_2__.distortion)(ctx, {\n                source: (0,_module__WEBPACK_IMPORTED_MODULE_2__.vco)(ctx, {\n                    frequency: (0,_module__WEBPACK_IMPORTED_MODULE_2__.sampleAndHold)(ctx, {\n                        source: bassline,\n                        trigger: bassGroove,\n                    }),\n                    shape: 'square',\n                }),\n                amount: 700,\n            }),\n        }),\n    }),\n});\nvar _e = (0,_widgets_keyboard__WEBPACK_IMPORTED_MODULE_6__.keyboard)(ctx, { label: 'Lead' }), gate = _e.gate, pitch = _e.pitch;\nvar lead = (0,_module__WEBPACK_IMPORTED_MODULE_2__.vca)(ctx, {\n    input: (0,_module__WEBPACK_IMPORTED_MODULE_2__.vcf)(ctx, {\n        source: (0,_module__WEBPACK_IMPORTED_MODULE_2__.vca)(ctx, {\n            input: (0,_module__WEBPACK_IMPORTED_MODULE_2__.vco)(ctx, {\n                frequency: (0,_module__WEBPACK_IMPORTED_MODULE_2__.sum)(ctx, {\n                    inputs: [\n                        pitch,\n                        (0,_module__WEBPACK_IMPORTED_MODULE_2__.vca)(ctx, {\n                            input: (0,_module__WEBPACK_IMPORTED_MODULE_2__.vca)(ctx, {\n                                input: (0,_module__WEBPACK_IMPORTED_MODULE_2__.vco)(ctx, {\n                                    frequency: 8,\n                                    shape: 'sine',\n                                }),\n                                gain: (0,_module__WEBPACK_IMPORTED_MODULE_2__.adsr)(ctx, {\n                                    gate: gate,\n                                    attack: 2,\n                                    decay: 0.01,\n                                    sustain: 1,\n                                    release: 0.01,\n                                }),\n                            }),\n                            gain: 25,\n                        }),\n                    ],\n                }),\n                shape: 'square',\n            }),\n            gain: (0,_module__WEBPACK_IMPORTED_MODULE_2__.adsr)(ctx, {\n                gate: gate,\n                attack: 0,\n                decay: 0.1,\n                sustain: 0.8,\n                release: 4,\n            }),\n        }),\n        type: 'lowpass',\n        cutoff: (0,_module__WEBPACK_IMPORTED_MODULE_2__.attenuverter)(ctx, {\n            source: (0,_module__WEBPACK_IMPORTED_MODULE_2__.adsr)(ctx, {\n                gate: gate,\n                attack: 0,\n                decay: 0.2,\n            }),\n            offset: 100,\n            gain: 600,\n        }),\n        resonance: 10,\n    }),\n    gain: 0.2,\n});\nvar mix = (0,_module__WEBPACK_IMPORTED_MODULE_2__.sum)(ctx, { inputs: [drums, melody, bass, lead] });\n(0,_module__WEBPACK_IMPORTED_MODULE_2__.output)(ctx, { source: mix });\n(0,_widgets__WEBPACK_IMPORTED_MODULE_5__.scope)(ctx, { source: mix });\n(0,_widgets__WEBPACK_IMPORTED_MODULE_5__.playback)(ctx);\n\n\n//# sourceURL=webpack:///./src/song.ts?");

/***/ }),

/***/ "./src/widgets/button.ts":
/*!*******************************!*\
  !*** ./src/widgets/button.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   button: () => (/* binding */ button)\n/* harmony export */ });\nfunction button(context, _a) {\n    var label = _a.label;\n    var widget = document.createElement('fieldset');\n    var legend = document.createElement('legend');\n    legend.textContent = label;\n    var button = document.createElement('button');\n    button.textContent = label;\n    widget.appendChild(legend);\n    widget.appendChild(button);\n    context.renderWidget(widget);\n    return context.define({\n        create: function (context) {\n            var node = new ConstantSourceNode(context);\n            node.offset.value = 0;\n            button.addEventListener('mousedown', function () {\n                node.offset.setValueAtTime(1, context.currentTime);\n            });\n            button.addEventListener('mouseup', function () {\n                node.offset.setValueAtTime(0, context.currentTime);\n            });\n            return { node: node, isSource: true, };\n        },\n    });\n}\n\n\n//# sourceURL=webpack:///./src/widgets/button.ts?");

/***/ }),

/***/ "./src/widgets/index.ts":
/*!******************************!*\
  !*** ./src/widgets/index.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   button: () => (/* reexport safe */ _button__WEBPACK_IMPORTED_MODULE_0__.button),\n/* harmony export */   playback: () => (/* reexport safe */ _playback__WEBPACK_IMPORTED_MODULE_1__.playback),\n/* harmony export */   scope: () => (/* reexport safe */ _scope__WEBPACK_IMPORTED_MODULE_2__.scope),\n/* harmony export */   slider: () => (/* reexport safe */ _slider__WEBPACK_IMPORTED_MODULE_3__.slider),\n/* harmony export */   toggle: () => (/* reexport safe */ _toggle__WEBPACK_IMPORTED_MODULE_4__.toggle)\n/* harmony export */ });\n/* harmony import */ var _button__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./button */ \"./src/widgets/button.ts\");\n/* harmony import */ var _playback__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./playback */ \"./src/widgets/playback.ts\");\n/* harmony import */ var _scope__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./scope */ \"./src/widgets/scope.ts\");\n/* harmony import */ var _slider__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./slider */ \"./src/widgets/slider.ts\");\n/* harmony import */ var _toggle__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./toggle */ \"./src/widgets/toggle.ts\");\n\n\n\n\n\n\n\n//# sourceURL=webpack:///./src/widgets/index.ts?");

/***/ }),

/***/ "./src/widgets/keyboard.ts":
/*!*********************************!*\
  !*** ./src/widgets/keyboard.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   keyboard: () => (/* binding */ keyboard)\n/* harmony export */ });\n/* harmony import */ var _scale_chromatic__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../scale/chromatic */ \"./src/scale/chromatic.ts\");\n\nfunction keyboard(context, _a) {\n    var label = _a.label;\n    var widget = document.createElement('fieldset');\n    var legend = document.createElement('legend');\n    legend.textContent = label;\n    widget.appendChild(legend);\n    var pitchClasses = [\n        'c',\n        'db',\n        'd',\n        'eb',\n        'e',\n        'f',\n        'gb',\n        'g',\n        'ab',\n        'a',\n        'bb',\n        'b',\n    ];\n    var naturalWidth = 50;\n    var naturalHeight = 200;\n    var flatWidth = 40;\n    var flatHeight = 120;\n    var container = document.createElement('div');\n    container.setAttribute('style', \"\\n    position: relative;\\n    height: \".concat(naturalHeight + 10, \"px;\\n  \"));\n    widget.appendChild(container);\n    var buttons = [];\n    var offset = 0;\n    for (var _i = 0, _b = [4, 5]; _i < _b.length; _i++) {\n        var octave = _b[_i];\n        for (var _c = 0, pitchClasses_1 = pitchClasses; _c < pitchClasses_1.length; _c++) {\n            var pitchClass = pitchClasses_1[_c];\n            var isFlat = pitchClass[1] === 'b';\n            var button = document.createElement('button');\n            button.setAttribute('style', \"\\n        background: \".concat(isFlat ? 'black' : 'white', \";\\n        box-sizing: border-box;\\n        color: \").concat(isFlat ? 'white' : 'black', \";\\n        cursor: pointer;\\n        font-size: 10px;\\n        height: \").concat(isFlat ? flatHeight : naturalHeight, \";\\n        left: \").concat(isFlat ? offset - 0.5 * flatWidth : offset, \"px;\\n        position: absolute;\\n        top: 0;\\n        width: \").concat(isFlat ? flatWidth : naturalWidth, \";\\n        z-index: \").concat(isFlat ? 1 : 0, \";\\n      \"));\n            if (!isFlat) {\n                offset += naturalWidth;\n            }\n            var name_1 = \"\".concat(pitchClass).concat(octave);\n            button.textContent = name_1;\n            button.dataset.note = name_1;\n            var flats = [];\n            if (isFlat) {\n                flats.push(button);\n            }\n            else {\n                container.appendChild(button);\n            }\n            for (var _d = 0, flats_1 = flats; _d < flats_1.length; _d++) {\n                var flat = flats_1[_d];\n                container.appendChild(flat);\n            }\n            buttons.push(button);\n        }\n    }\n    context.renderWidget(widget);\n    var gate;\n    var pitch;\n    var nodes = {\n        gate: context.define({\n            create: function (context) {\n                gate = new ConstantSourceNode(context);\n                gate.offset.value = 0;\n                return { node: gate, isSource: true };\n            },\n        }),\n        pitch: context.define({\n            create: function (context) {\n                pitch = new ConstantSourceNode(context);\n                pitch.offset.value = _scale_chromatic__WEBPACK_IMPORTED_MODULE_0__.PITCH.c4;\n                return { node: pitch, isSource: true };\n            },\n        }),\n    };\n    for (var _e = 0, buttons_1 = buttons; _e < buttons_1.length; _e++) {\n        var button = buttons_1[_e];\n        button.addEventListener('mousedown', function (e) {\n            if (!gate || !pitch) {\n                return;\n            }\n            gate.offset.setValueAtTime(1, gate.context.currentTime);\n            var frequency = _scale_chromatic__WEBPACK_IMPORTED_MODULE_0__.pitchMap.get(e.target.dataset.note);\n            if (frequency) {\n                pitch.offset.setValueAtTime(frequency, pitch.context.currentTime);\n            }\n        });\n        button.addEventListener('mouseup', function (e) {\n            if (!gate || !pitch) {\n                return;\n            }\n            gate.offset.setValueAtTime(0, gate.context.currentTime);\n        });\n    }\n    return nodes;\n}\n\n\n//# sourceURL=webpack:///./src/widgets/keyboard.ts?");

/***/ }),

/***/ "./src/widgets/lib/svg.ts":
/*!********************************!*\
  !*** ./src/widgets/lib/svg.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   makeSvgElement: () => (/* binding */ makeSvgElement)\n/* harmony export */ });\nfunction makeSvgElement(name, attributes) {\n    var elem = document.createElementNS(\"http://www.w3.org/2000/svg\", name);\n    for (var _i = 0, _a = Object.keys(attributes !== null && attributes !== void 0 ? attributes : {}); _i < _a.length; _i++) {\n        var key = _a[_i];\n        elem.setAttribute(key, \"\".concat(attributes[key]));\n    }\n    return elem;\n}\n\n\n//# sourceURL=webpack:///./src/widgets/lib/svg.ts?");

/***/ }),

/***/ "./src/widgets/playback.ts":
/*!*********************************!*\
  !*** ./src/widgets/playback.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   playback: () => (/* binding */ playback)\n/* harmony export */ });\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nfunction playback(context) {\n    var _this = this;\n    var timestamp = document.createElement('code');\n    var timestampUpdatePid = null;\n    var timestampUpdateInterval = 25;\n    var updateTimestamp = function () {\n        timestamp.textContent = context.timestamp;\n        timestampUpdatePid = setTimeout(function () { return updateTimestamp(); }, timestampUpdateInterval);\n    };\n    var playStopButton = document.createElement('button');\n    playStopButton.textContent = 'Play';\n    playStopButton.addEventListener('click', function (e) { return __awaiter(_this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (!context.isPlaying) return [3 /*break*/, 1];\n                    context.stop();\n                    if (timestampUpdatePid) {\n                        clearTimeout(timestampUpdatePid);\n                        timestampUpdatePid = null;\n                    }\n                    playStopButton.textContent = 'Play';\n                    return [3 /*break*/, 4];\n                case 1:\n                    if (!!context.isBuilt) return [3 /*break*/, 3];\n                    return [4 /*yield*/, context.build()];\n                case 2:\n                    _a.sent();\n                    _a.label = 3;\n                case 3:\n                    context.start();\n                    updateTimestamp();\n                    playStopButton.textContent = 'Pause';\n                    _a.label = 4;\n                case 4: return [2 /*return*/];\n            }\n        });\n    }); });\n    var legend = document.createElement('legend');\n    legend.textContent = 'Playback';\n    var widget = document.createElement('fieldset');\n    widget.appendChild(legend);\n    widget.appendChild(playStopButton);\n    widget.appendChild(document.createTextNode(' '));\n    widget.appendChild(timestamp);\n    context.renderWidget(widget);\n}\n\n\n//# sourceURL=webpack:///./src/widgets/playback.ts?");

/***/ }),

/***/ "./src/widgets/scope.ts":
/*!******************************!*\
  !*** ./src/widgets/scope.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   scope: () => (/* binding */ scope)\n/* harmony export */ });\n/* harmony import */ var _lib_svg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./lib/svg */ \"./src/widgets/lib/svg.ts\");\n\nfunction scope(ctx, _a) {\n    var source = _a.source, _b = _a.height, height = _b === void 0 ? 200 : _b, _c = _a.width, width = _c === void 0 ? 500 : _c, _d = _a.length, length = _d === void 0 ? 1 : _d;\n    var widget = document.createElement('fieldset');\n    var legend = document.createElement('legend');\n    legend.textContent = 'Scope';\n    var svg = (0,_lib_svg__WEBPACK_IMPORTED_MODULE_0__.makeSvgElement)('svg', {\n        height: height,\n        width: width,\n        viewBox: \"\".concat(-0.5 * width, \" \").concat(-0.5 * height, \" \").concat(width, \" \").concat(height),\n    });\n    renderScopeGrid(svg, width, height);\n    var path = (0,_lib_svg__WEBPACK_IMPORTED_MODULE_0__.makeSvgElement)('path', {\n        stroke: 'red',\n        fill: 'transparent',\n        d: '',\n    });\n    svg.appendChild(path);\n    widget.appendChild(legend);\n    widget.appendChild(svg);\n    ctx.renderWidget(widget);\n    return ctx.define({\n        mapping: { source: source },\n        create: function (context) {\n            var node = new AudioWorkletNode(context, 'logging-processor', { processorOptions: { sampleDenominator: 1 } });\n            var data = [];\n            node.port.onmessage = function (message) {\n                data = updateData(data, message.data, context.currentTime - length);\n                path.setAttribute('d', getPath(data, height, width, context.currentTime, length));\n            };\n            return { node: node };\n        },\n        connect: function (inputName, source, dest) {\n            var vca = dest;\n            if (inputName === 'source') {\n                if (typeof source === 'number') {\n                    throw \"Invalid log source\";\n                }\n                else {\n                    source.connect(vca);\n                }\n            }\n        }\n    });\n}\nfunction renderScopeGrid(svg, width, height) {\n    var v = (0,_lib_svg__WEBPACK_IMPORTED_MODULE_0__.makeSvgElement)('line', {\n        x1: 0,\n        y1: -0.5 * height,\n        x2: 0,\n        y2: 0.5 * height,\n        stroke: 'black',\n    });\n    var h = (0,_lib_svg__WEBPACK_IMPORTED_MODULE_0__.makeSvgElement)('line', {\n        x1: -0.5 * width,\n        y1: 0,\n        x2: 0.5 * width,\n        y2: 0,\n        stroke: 'black',\n    });\n    var g = (0,_lib_svg__WEBPACK_IMPORTED_MODULE_0__.makeSvgElement)('g');\n    g.appendChild(v);\n    g.append(h);\n    svg.appendChild(g);\n}\nfunction updateData(data, datum, minTime) {\n    var result = [];\n    for (var index = 0; index < data.length; ++index) {\n        if (data[index].timestamp <= minTime) {\n            continue;\n        }\n        result.push(data[index]);\n    }\n    if (datum.timestamp > minTime) {\n        result.push(datum);\n    }\n    return result;\n}\nfunction getPath(data, height, width, currentTime, length) {\n    if (data.length === 0) {\n        return '';\n    }\n    var coordinates = data.map(function (_a) {\n        var sample = _a.sample, timestamp = _a.timestamp;\n        return ({\n            x: (width * (currentTime - timestamp) / length) - 0.5 * width,\n            y: sample * height,\n        });\n    });\n    var _a = coordinates[0], x = _a.x, y = _a.y, rest = coordinates.slice(1);\n    var ls = rest.map(function (_a) {\n        var x = _a.x, y = _a.y;\n        return \"L \".concat(x, \" \").concat(y);\n    });\n    return \"M \".concat(x, \" \").concat(y, \" \").concat(ls.join(' '));\n}\n\n\n//# sourceURL=webpack:///./src/widgets/scope.ts?");

/***/ }),

/***/ "./src/widgets/slider.ts":
/*!*******************************!*\
  !*** ./src/widgets/slider.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   slider: () => (/* binding */ slider)\n/* harmony export */ });\nfunction slider(context, _a) {\n    var label = _a.label, _b = _a.initialValue, initialValue = _b === void 0 ? 0 : _b, _c = _a.minimum, minimum = _c === void 0 ? -1 : _c, _d = _a.maximum, maximum = _d === void 0 ? 1 : _d, _e = _a.step, step = _e === void 0 ? 0.01 : _e;\n    var widget = document.createElement('fieldset');\n    var legend = document.createElement('legend');\n    legend.textContent = label;\n    var input = document.createElement('input');\n    input.setAttribute('type', 'range');\n    input.setAttribute('min', \"\".concat(minimum));\n    input.setAttribute('max', \"\".concat(maximum));\n    input.setAttribute('step', \"\".concat(step));\n    input.setAttribute('value', \"\".concat(initialValue));\n    var display = document.createElement('code');\n    display.textContent = \"\".concat(initialValue);\n    widget.appendChild(legend);\n    widget.appendChild(input);\n    widget.appendChild(display);\n    context.renderWidget(widget);\n    return context.define({\n        create: function (context) {\n            var node = new ConstantSourceNode(context);\n            node.offset.value = initialValue;\n            input.addEventListener('input', function () {\n                node.offset.setValueAtTime(parseFloat(input.value), context.currentTime);\n                display.textContent = \"\".concat(input.value);\n            });\n            return { node: node, isSource: true, };\n        },\n    });\n}\n\n\n//# sourceURL=webpack:///./src/widgets/slider.ts?");

/***/ }),

/***/ "./src/widgets/toggle.ts":
/*!*******************************!*\
  !*** ./src/widgets/toggle.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   toggle: () => (/* binding */ toggle)\n/* harmony export */ });\nfunction toggle(context, _a) {\n    var label = _a.label, _b = _a.initialState, initialState = _b === void 0 ? false : _b;\n    var widget = document.createElement('fieldset');\n    var legend = document.createElement('legend');\n    legend.textContent = label;\n    var toggle = document.createElement('input');\n    toggle.setAttribute('type', 'checkbox');\n    toggle.checked = initialState;\n    widget.appendChild(legend);\n    widget.appendChild(toggle);\n    context.renderWidget(widget);\n    return context.define({\n        create: function (context) {\n            var node = new ConstantSourceNode(context);\n            node.offset.value = initialState ? 1 : 0;\n            toggle.addEventListener('input', function () {\n                node.offset.setValueAtTime(toggle.checked ? 1 : 0, context.currentTime);\n            });\n            return { node: node, isSource: true, };\n        },\n    });\n}\n\n\n//# sourceURL=webpack:///./src/widgets/toggle.ts?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/song.ts");
/******/ 	
/******/ })()
;